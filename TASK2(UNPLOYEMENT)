# -*- coding: utf-8 -*-
"""Task 1.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/10kTVx3jTcvpg3z8ttTkpQodW978402Pa
"""

import numpy as np 
import pandas as pd
import plotly.express as px
import matplotlib.pyplot as plt
import os

for dirname, _, filenames in os.walk('/kaggle/input'):
    for filename in filenames:
        print(os.path.join(dirname, filename))

df=pd.read_csv("Unemployment_Rate_upto_11_2020 (1).csv")

df.head()

df.columns =['States','Date','Frequency','Estimated Unemployment Rate','Estimated Employed','Estimated Labour Participation Rate','Region','longitude','latitude']
df['Date'] = pd.to_datetime(df['Date'],dayfirst=True)
df['Frequency']= df['Frequency'].astype('category')
df['Month'] =  df['Date'].dt.month
df['Month_int'] = df['Month'].apply(lambda x : int(x))
df.head(10)

df.shape
df.info

df.describe()

x=df['Region']
x

y=df['Estimated Unemployment Rate']
y

df2=df.iloc[:,3]
df2

import plotly.graph_objects as go
import plotly.figure_factory as ff
from IPython.display import HTML
import seaborn as sns
import calendar
import plotly.io as pio
pio.templates

fg = px.histogram(df,x='Region',y='Estimated Unemployment Rate',color='Region',title='Unemployment Rate',animation_frame='Month',template='plotly')
fg.update_layout(xaxis={'categoryorder':'total descending'})
fg.show()

fg = px.box(df,x='Region',y='Estimated Unemployment Rate',color='Region',title='Unemployment Rate',animation_frame='Month',template='plotly')
fg.update_layout(xaxis={'categoryorder':'total descending'})
fg.show()

unemplo_df = df[['States','Region','Estimated Unemployment Rate','Estimated Employed','Estimated Labour Participation Rate']]
unemplo = unemplo_df.groupby(['Region','States'])['Estimated Unemployment Rate'].mean().reset_index()
fig = px.sunburst(unemplo, path=['Region','States'], values='Estimated Unemployment Rate',
                  color_continuous_scale='Plasma',title= 'Unemployment rate in each region and state',
                  height=650,template='ggplot2')
fig.show()
unemplo_df = df

plot_ump = df[['Estimated Unemployment Rate','States']]
df_unemp = plot_ump.groupby('States').mean().reset_index()
df_unemp = df_unemp.sort_values('Estimated Unemployment Rate')
fig = px.bar(df_unemp, x='States',y='Estimated Unemployment Rate',color='States',
            title='Average unemployment Rate in each state',template='plotly')
fig.show()

fig = px.bar(df, x='Region',y='Estimated Unemployment Rate',animation_frame = 'Month_name',color='States',
            title='Unemployment rate across region from Jan.2020 to Oct.2020', height=700,template='plotly')
fig.update_layout(xaxis={'categoryorder':'total descending'})
fig.layout.updatemenus[0].buttons[0].args[1]["frame"]["duration"] = 2000
fig.show()
